<!doctype html>



  


<html class="theme-next mist use-motion">
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Android è‡ªå®šä¹‰æ§ä»¶,">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2">






<meta name="description" content="ç›®æ ‡æ•ˆæœæŸ¥çœ‹ï¼šæ‰“å¼€QQ-&amp;gt;ç‚¹å‡»ä¸ªäººå¤´åƒ-&amp;gt;ç‚¹å‡»ä¸ªæ€§åç‰‡-&amp;gt;é€‰æ‹©ä¸€ä¸ªåç‰‡-&amp;gt;é€‰æ‹©æ•ˆæœäºŒã€‚ï¼ˆä»…é™ vipåŠä»¥ä¸Šç”¨æˆ·ï¼‰">
<meta name="keywords" content="Android è‡ªå®šä¹‰æ§ä»¶">
<meta property="og:type" content="article">
<meta property="og:title" content="ä»¿QQä¸ªäººä¿¡æ¯å±•ç¤ºé¡µæ°”æ³¡æ ‡ç­¾æ•ˆæœ">
<meta property="og:url" content="http://yoursite.com/2016/10/23/20161023/index.html">
<meta property="og:site_name" content="AlphaBoom">
<meta property="og:description" content="ç›®æ ‡æ•ˆæœæŸ¥çœ‹ï¼šæ‰“å¼€QQ-&amp;gt;ç‚¹å‡»ä¸ªäººå¤´åƒ-&amp;gt;ç‚¹å‡»ä¸ªæ€§åç‰‡-&amp;gt;é€‰æ‹©ä¸€ä¸ªåç‰‡-&amp;gt;é€‰æ‹©æ•ˆæœäºŒã€‚ï¼ˆä»…é™ vipåŠä»¥ä¸Šç”¨æˆ·ï¼‰">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1916010-e8b9596f3f687cc3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="https://github.com/AlphaBoom/QQPresentation/raw/master/QQPresentation.gif">
<meta property="og:updated_time" content="2019-08-21T15:14:51.667Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ä»¿QQä¸ªäººä¿¡æ¯å±•ç¤ºé¡µæ°”æ³¡æ ‡ç­¾æ•ˆæœ">
<meta name="twitter:description" content="ç›®æ ‡æ•ˆæœæŸ¥çœ‹ï¼šæ‰“å¼€QQ-&amp;gt;ç‚¹å‡»ä¸ªäººå¤´åƒ-&amp;gt;ç‚¹å‡»ä¸ªæ€§åç‰‡-&amp;gt;é€‰æ‹©ä¸€ä¸ªåç‰‡-&amp;gt;é€‰æ‹©æ•ˆæœäºŒã€‚ï¼ˆä»…é™ vipåŠä»¥ä¸Šç”¨æˆ·ï¼‰">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/1916010-e8b9596f3f687cc3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2016/10/23/20161023/">


  <title> ä»¿QQä¸ªäººä¿¡æ¯å±•ç¤ºé¡µæ°”æ³¡æ ‡ç­¾æ•ˆæœ | AlphaBoom </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">AlphaBoom</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">è¿™ä¸ªä¸–ç•Œéœ€è¦æ›´å¤šè‹±é›„ğŸ˜</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule" rel="section">
            
            æ—¥ç¨‹
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
            å…¬ç›Š404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                ä»¿QQä¸ªäººä¿¡æ¯å±•ç¤ºé¡µæ°”æ³¡æ ‡ç­¾æ•ˆæœ
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-10-23T03:51:42+08:00" content="2016-10-23">
              2016-10-23
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>ç›®æ ‡æ•ˆæœæŸ¥çœ‹ï¼šæ‰“å¼€QQ-&gt;ç‚¹å‡»ä¸ªäººå¤´åƒ-&gt;ç‚¹å‡»ä¸ªæ€§åç‰‡-&gt;é€‰æ‹©ä¸€ä¸ªåç‰‡-&gt;é€‰æ‹©æ•ˆæœäºŒã€‚<br><img src="http://upload-images.jianshu.io/upload_images/1916010-e8b9596f3f687cc3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt>ï¼ˆä»…é™ vipåŠä»¥ä¸Šç”¨æˆ·ï¼‰<br><a id="more"></a></p>
<h1 id="åˆ†ææ•ˆæœ"><a href="#åˆ†ææ•ˆæœ" class="headerlink" title="åˆ†ææ•ˆæœ"></a>åˆ†ææ•ˆæœ</h1></blockquote>
<ul>
<li>è¿›å…¥ç•Œé¢æ­£å¸¸å±•ç¤ºç•Œé¢ï¼ˆä¸­é—´å¤´åƒï¼ŒèƒŒæ™¯å›¾ç‰‡ï¼‰</li>
<li>ä¸‹æ»‘ç•Œé¢ä¾æ¬¡è¿›è¡Œä»¥ä¸‹åŠ¨ç”»ï¼š<ul>
<li>æ•´ä½“é«˜åº¦å¢åŠ åŠèƒŒæ™¯æ¨¡ç³ŠåŒ–</li>
<li>å¤´åƒå‘¨å›´æ˜¾ç¤ºå…‰æ™•</li>
<li>æ ‡ç­¾ä»å¤´åƒä¸­å¿ƒå‘å‘¨å›´æ‰©æ•£</li>
</ul>
</li>
<li>æ ‡ç­¾åœ¨ä¸€å®šèŒƒå›´å†…éšæœºç§»åŠ¨</li>
<li>ä¸Šæ»‘æ¢å¤æ­£å¸¸ç•Œé¢æ˜¾ç¤º åŒæ—¶è¿›è¡Œä»¥ä¸‹åŠ¨ç”»ï¼š<ul>
<li>æ•´ä½“é«˜åº¦ç¼©å°èƒŒæ™¯å»æ¨¡ç³Š</li>
<li>å¤´åƒå…‰æ™•éšè—</li>
<li>æ ‡ç­¾å‘å¤´åƒä¸­å¿ƒèšé›†å¹¶æ¶ˆå¤±</li>
</ul>
</li>
<li>æ ‡ç­¾å¯ä»¥æ‹–åŠ¨ï¼Œå½“æ ‡ç­¾æ‹–åŠ¨æ—¶ å¤´åƒå…‰æ™•æ˜¾ç¤ºç‰¹å®šåŠ¨ç”»</li>
<li>æ ‡ç­¾æ‹–åŠ¨åˆ°å¤´åƒæ˜¾ç¤ºåŒºåŸŸæ—¶ï¼Œå¤´åƒå…‰æ™•æ˜¾ç¤ºå¦ä¸€ç§ç‰¹å®šåŠ¨ç”»</li>
</ul>
<h1 id="ç°åœ¨å®ç°çš„æ•ˆæœ"><a href="#ç°åœ¨å®ç°çš„æ•ˆæœ" class="headerlink" title="ç°åœ¨å®ç°çš„æ•ˆæœ"></a>ç°åœ¨å®ç°çš„æ•ˆæœ</h1><p><img src="https://github.com/AlphaBoom/QQPresentation/raw/master/QQPresentation.gif" alt>  </p>
<hr>
<h1 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h1><h2 id="åˆ†æå®ç°éœ€è¦çš„æ­¥éª¤"><a href="#åˆ†æå®ç°éœ€è¦çš„æ­¥éª¤" class="headerlink" title="åˆ†æå®ç°éœ€è¦çš„æ­¥éª¤"></a>åˆ†æå®ç°éœ€è¦çš„æ­¥éª¤</h2><p>å…ˆåˆ†æå¸ƒå±€ç±»åˆ«åˆ†ä¸ºä¸‰ä¸ªç±»åˆ«ï¼š1.æœ€å¤–å±‚çš„å®¹å™¨ 2.æ°”æ³¡æ ‡ç­¾ 3.ä¸­é—´çš„åœ†å½¢å¤´åƒã€‚<br>ä¸‹é¢å¼€å§‹å¯¹è¿™ä¸‰ä¸ªéƒ¨åˆ†åˆ†åˆ«è¿›è¡Œå®ç°</p>
<h2 id="æ°”æ³¡æ ‡ç­¾ï¼ˆTagViewï¼‰"><a href="#æ°”æ³¡æ ‡ç­¾ï¼ˆTagViewï¼‰" class="headerlink" title="æ°”æ³¡æ ‡ç­¾ï¼ˆTagViewï¼‰"></a>æ°”æ³¡æ ‡ç­¾ï¼ˆTagViewï¼‰</h2><blockquote>
<p>é¦–å…ˆå¯¹æœ€ç®€å•çš„æ§ä»¶å¼€å§‹ï¼Œè¿™ä¸ªæ§ä»¶ä¸ºä¸€ä¸ªåœ†å½¢èƒŒæ™¯åŠä¸­é—´çš„æ–‡å­—æ˜¾ç¤ºåŒºåŸŸå±•ç¤ºï¼Œåˆçœ‹ä¸‹æ¥å¯ä»¥ä½¿ç”¨<code>TextView</code>æ¥å®ç°ã€‚ä¸è¿‡<code>TextView</code> ä¸å¥½è¿›è¡Œæµ‹é‡ï¼Œè€Œä¸”ç”¨åˆ°çš„åŠŸèƒ½ä¹Ÿå¾ˆç®€å•ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä½¿ç”¨è‡ªå®šä¹‰<code>View</code>æ¥å®ç°å¯¹äºç›¸å…³æ–‡å­—çš„ç»˜åˆ¶ä½¿ç”¨<code>StaticLayout</code>æ¥è¾…åŠ©å®ç°ã€‚</p>
</blockquote>
<p>è¿™é‡Œå¯¹äºæ˜¾ç¤ºçš„æ–‡å­—éœ€è¦åšç‰¹æ®Šå¤„ç†ï¼Œæ–‡å­—åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šæ ‡ç­¾åå­—ï¼ˆæœ€å¤š5ä¸ªï¼‰æ˜¾ç¤ºåŠç‚¹èµæ•°é‡ã€‚æ ‡ç­¾çš„æ•´ä½“çš„å¤§å°ä¼šæ ¹æ®tagä¸­æ–‡å­—çš„æ•°é‡æ¥è®¡ç®—ã€‚åœ¨è®¾ç½®éœ€è¦æ˜¾ç¤ºçš„ä¿¡æ¯æ—¶åˆå§‹åŒ–<code>StaticLayout</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setSource</span><span class="params">(PresentationLayout.Tag tag)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tag = tag;</span><br><span class="line">        String summary = tag.getTag();</span><br><span class="line">        <span class="keyword">int</span> count = tag.getCount();</span><br><span class="line">        String countWithBracket;</span><br><span class="line">        <span class="keyword">if</span>(count&lt;=<span class="number">99</span>)&#123;<span class="comment">//å¯¹äº99ä»¥ä¸Šéƒ½æ˜¾ç¤ºä¸º99+</span></span><br><span class="line">            countWithBracket = <span class="string">"("</span>+count+<span class="string">")"</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            countWithBracket = <span class="string">"(99+)"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String source;</span><br><span class="line">        <span class="keyword">int</span> width;</span><br><span class="line">        <span class="keyword">if</span>(summary.length()&lt;=<span class="number">3</span>)&#123;</span><br><span class="line">            source = summary+<span class="string">"\n"</span>+countWithBracket;</span><br><span class="line">            width = (<span class="keyword">int</span>) Math.max(mTextPaint.measureText(countWithBracket),mTextPaint.measureText(summary));</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;<span class="comment">// é•¿åº¦è¶…è¿‡3 åˆ™æŒ‰ç…§ ç¬¬ä¸€è¡Œ2ä¸ªæ¥æ˜¾ç¤º</span></span><br><span class="line">            source = summary.substring(<span class="number">0</span>,<span class="number">2</span>)+<span class="string">"\n"</span>+summary.substring(<span class="number">2</span>)+<span class="string">"\n"</span>+countWithBracket;</span><br><span class="line">            width = (<span class="keyword">int</span>) Math.max(mTextPaint.measureText(countWithBracket),mTextPaint.measureText(summary.substring(<span class="number">0</span>,<span class="number">3</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ³¨æ„è¿™é‡ŒmTextPaint ä¸è¦è®¾ç½®Align ä¼šé€ æˆæ˜¾ç¤ºå¼‚å¸¸</span></span><br><span class="line">        mStaticLayout = <span class="keyword">new</span> StaticLayout(source,mTextPaint,width, Layout.Alignment.ALIGN_CENTER,<span class="number">1f</span>,<span class="number">0</span>,<span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>æµ‹é‡æ—¶è®¡ç®—å‡ºæ–‡å­—åŒºåŸŸæ‰€éœ€å¤§å°åŠå¤–å±‚ç»˜åˆ¶åœ†å½¢æ‰€éœ€è¦çš„åŠå¾„å¤§å°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onMeasure</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(mStaticLayout == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">super</span>.onMeasure(widthMeasureSpec,heightMeasureSpec);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;<span class="comment">//ä¸å…³å¿ƒparentçš„å±æ€§ æ¥æµ‹é‡é«˜å®½</span></span><br><span class="line">            <span class="keyword">int</span> width = mStaticLayout.getWidth() + originPaddingLeft + originPaddingRight;</span><br><span class="line">            <span class="keyword">int</span> height = mStaticLayout.getHeight() + originPaddingTop + originPaddingBottom;</span><br><span class="line">            <span class="keyword">int</span> diameter = (<span class="keyword">int</span>) Math.hypot(width, height);</span><br><span class="line">            mRadius = <span class="number">0.5f</span>*diameter;</span><br><span class="line">            <span class="keyword">int</span> paddingLeft = (diameter - width) / <span class="number">2</span> + originPaddingLeft;</span><br><span class="line">            <span class="keyword">int</span> paddingRight = (diameter - width) / <span class="number">2</span> + originPaddingRight;</span><br><span class="line">            <span class="keyword">int</span> paddingTop = (diameter - height) / <span class="number">2</span> + originPaddingTop;</span><br><span class="line">            <span class="keyword">int</span> paddingBottom = (diameter - height) / <span class="number">2</span> + originPaddingBottom;</span><br><span class="line">            <span class="comment">//å°†æ§åˆ¶ç‚¹è®¾ä¸ºä¸­å¿ƒ æ–¹ä¾¿ä¹‹ååŠ¨ç”»æ•ˆæœçš„å±•ç¤º</span></span><br><span class="line">            setPivotX(mRadius);</span><br><span class="line">            setPivotY(mRadius);</span><br><span class="line">            <span class="comment">//è®¾ç½®æ–°çš„paddingå¤§å°ä¿è¯åœ†å½¢èƒŒæ™¯çš„ç»˜åˆ¶</span></span><br><span class="line">            setPadding(paddingLeft,paddingTop,paddingRight,paddingBottom);</span><br><span class="line">            setMeasuredDimension(diameter, diameter);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>ç»˜åˆ¶æ•ˆæœåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šåœ†å½¢èƒŒæ™¯ç»˜åˆ¶ã€åœ†å½¢è¾¹æ¡†ç»˜åˆ¶ã€æ–‡å­—ç»˜åˆ¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">   protected void onDraw(Canvas canvas) &#123;</span><br><span class="line">       canvas.save();</span><br><span class="line">       //ç»˜åˆ¶åœ†å½¢èƒŒæ™¯</span><br><span class="line">       canvas.drawCircle(mRadius,mRadius,mRadius-mBorderWidth,mBgPaint);</span><br><span class="line">       //ç»˜åˆ¶åœ†å½¢è¾¹æ¡†</span><br><span class="line">       canvas.drawCircle(mRadius,mRadius,mRadius-mBorderWidth,mBorderPaint);</span><br><span class="line">       canvas.translate(getPaddingLeft(),getPaddingTop());</span><br><span class="line">       //ç»˜åˆ¶æ–‡å­—</span><br><span class="line">       mStaticLayout.draw(canvas);</span><br><span class="line">       canvas.restore();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="åœ†å½¢å¤´åƒï¼ˆPortraitWrapperï¼‰"><a href="#åœ†å½¢å¤´åƒï¼ˆPortraitWrapperï¼‰" class="headerlink" title="åœ†å½¢å¤´åƒï¼ˆPortraitWrapperï¼‰"></a>åœ†å½¢å¤´åƒï¼ˆPortraitWrapperï¼‰</h2><blockquote>
<p>æ˜¾ç¤ºåœ†å½¢å¤´åƒçš„æ§ä»¶å¾ˆå¤šäº†ï¼Œè¿™é‡Œä½¿ç”¨ä¸€ä¸ªViewGroup åŒ…è£¹å¯¹åº”æ§ä»¶ å¹¶è´Ÿè´£ç»˜åˆ¶å…‰æ™•</p>
</blockquote>
<p>ç”±äºéœ€è¦çŸ¥é“å†…éƒ¨æ§ä»¶æ˜¾ç¤ºçš„åŠå¾„çš„å¤§å° æ‰€ä»¥å®šä¹‰ä¸€ä¸ªæ¥å£ç”¨æ¥è·å–è¿™ä¸ªåŠå¾„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface Circle &#123;</span><br><span class="line">    float getRadius();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œåœ†å½¢å¤´åƒå±•ç¤ºä½¿ç”¨<a href="https://github.com/hdodenhof/CircleImageView" target="_blank" rel="noopener">CircleImageView</a>ä½¿ç”¨è¿™ä¸ªæ§ä»¶ å®ç°<code>Circle</code>æ¥å£ï¼ˆ<code>Circle</code> å£°æ˜äº†<code>getRadius()</code>ç”¨äºè·å–åŠå¾„ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public float getRadius() &#123;</span><br><span class="line">    return mDrawableRadius;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œéœ€è¦åœ¨<code>CircleImageview</code>ç»˜åˆ¶ä¸€å±‚åœ†å½¢è¾¹æ¡†åŠä¸¤å±‚å…‰æ™•,æ‰€ä»¥å¯¹åº”æœ‰3ä¸ªåŠå¾„ï¼Œè¿™é‡Œå¯¹è¿™3ä¸ªåŠå¾„å»ºç«‹å¯¹åº”<code>Property</code>æ–¹ä¾¿åŠ¨ç”»ä¿®æ”¹åŠå¾„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">Property&lt;PortraitWrapper, Integer&gt; mFirstHaloProperty = <span class="keyword">new</span> Property&lt;PortraitWrapper, Integer&gt;(Integer.class, <span class="string">"firstHalo"</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">get</span><span class="params">(PortraitWrapper object)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> object.mFirstHaloRadius;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(PortraitWrapper object, Integer value)</span> </span>&#123;</span><br><span class="line">            object.mFirstHaloRadius = value;</span><br><span class="line">            ViewCompat.postInvalidateOnAnimation(object);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    Property&lt;PortraitWrapper, Integer&gt; mSecondHaloProperty = <span class="keyword">new</span> Property&lt;PortraitWrapper, Integer&gt;(Integer.class, <span class="string">"secondHalo"</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">get</span><span class="params">(PortraitWrapper object)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> object.mSecondHaloRadius;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(PortraitWrapper object, Integer value)</span> </span>&#123;</span><br><span class="line">            object.mSecondHaloRadius = value;</span><br><span class="line">            ViewCompat.postInvalidateOnAnimation(object);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    Property&lt;PortraitWrapper, Integer&gt; mBorderProperty = <span class="keyword">new</span> Property&lt;PortraitWrapper, Integer&gt;(Integer.class, <span class="string">"borderRadius"</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">get</span><span class="params">(PortraitWrapper object)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> object.mBorderRadius;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(PortraitWrapper object, Integer value)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(isWant|| isDesire) &#123;</span><br><span class="line">                object.mBorderRadius = value;</span><br><span class="line">                ViewCompat.postInvalidateOnAnimation(object);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">æ˜¾ç¤ºåŠ¨ç”»</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">ObjectAnimator step1 = ObjectAnimator.ofInt(<span class="keyword">this</span>, mFirstHaloProperty, mCircleChildRadius + mBorderWidth / <span class="number">2</span>, (mHaloTotalWidth - mBorderWidth) / <span class="number">3</span> + mCircleChildRadius + mBorderWidth / <span class="number">2</span>);</span><br><span class="line">            ObjectAnimator step2 = ObjectAnimator.ofInt(<span class="keyword">this</span>, mSecondHaloProperty, mCircleChildRadius + mBorderWidth / <span class="number">2</span>, (mHaloTotalWidth - mBorderWidth) * <span class="number">2</span> / <span class="number">3</span> + mCircleChildRadius + mBorderWidth / <span class="number">2</span>);</span><br><span class="line">            AnimatorSet set = <span class="keyword">new</span> AnimatorSet();</span><br><span class="line">            set.playTogether(step1, step2);</span><br><span class="line">            mShowAnimator = set;</span><br></pre></td></tr></table></figure>
<p>éšè—åŠ¨ç”»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ObjectAnimator step1 = ObjectAnimator.ofInt(<span class="keyword">this</span>, mFirstHaloProperty, mCircleChildRadius + mBorderWidth / <span class="number">2</span>);</span><br><span class="line">            ObjectAnimator step2 = ObjectAnimator.ofInt(<span class="keyword">this</span>, mSecondHaloProperty, mCircleChildRadius + mBorderWidth / <span class="number">2</span>);</span><br><span class="line">            AnimatorSet set = <span class="keyword">new</span> AnimatorSet();</span><br><span class="line">            set.playTogether(step1, step2);</span><br><span class="line">            mHideAnimator = set;</span><br></pre></td></tr></table></figure>
<p>å½“æ ‡ç­¾æ‹–åŠ¨æ—¶çš„åŠ¨ç”»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> increment = mHaloTotalWidth / <span class="number">3</span>;</span><br><span class="line">            ObjectAnimator step1 = ObjectAnimator.ofInt(<span class="keyword">this</span>, mBorderProperty, mCircleChildRadius, mCircleChildRadius + mBorderWidth / <span class="number">2</span> + increment/<span class="number">2</span>, mCircleChildRadius);</span><br><span class="line">            ObjectAnimator step2 = ObjectAnimator.ofInt(<span class="keyword">this</span>, mFirstHaloProperty, mCircleChildRadius, mCircleChildRadius + (mHaloTotalWidth - mBorderWidth) / <span class="number">3</span> + increment, mCircleChildRadius);</span><br><span class="line">            ObjectAnimator step3 = ObjectAnimator.ofInt(<span class="keyword">this</span>, mSecondHaloProperty, mCircleChildRadius, mCircleChildRadius + (mHaloTotalWidth - mBorderWidth) * <span class="number">2</span> / <span class="number">3</span> + increment, mCircleChildRadius);</span><br><span class="line">            step1.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class="line">            step2.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class="line">            step3.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class="line">            step1.setDuration(<span class="number">1500</span>);</span><br><span class="line">            step2.setDuration(<span class="number">1500</span>);</span><br><span class="line">            step2.setStartDelay(<span class="number">400</span>);</span><br><span class="line">            step3.setDuration(<span class="number">1500</span>);</span><br><span class="line">            step3.setStartDelay(<span class="number">600</span>);</span><br><span class="line">            step1.setInterpolator(<span class="keyword">new</span> AccelerateDecelerateInterpolator());</span><br><span class="line">            step2.setInterpolator(<span class="keyword">new</span> AccelerateDecelerateInterpolator());</span><br><span class="line">            step3.setInterpolator(<span class="keyword">new</span> AccelerateDecelerateInterpolator());</span><br><span class="line">            AnimatorSet set = <span class="keyword">new</span> AnimatorSet();</span><br><span class="line">            set.playTogether(step1, step2, step3);</span><br><span class="line">            mWantAnimator = set;</span><br></pre></td></tr></table></figure>
<p>å½“æ ‡ç­¾æ‹–åŠ¨åˆ°å¤´åƒä¸­æ—¶çš„åŠ¨ç”»(è¿™é‡Œä¼šæœ‰ä¸€ä¸ªé¢œè‰²alphaå€¼æ¸æ¸é™ä½çš„åŠ¨ç”»)æ‰€ä»¥æ·»åŠ ä¿®æ”¹ç”»ç¬”é¢œè‰²çš„<code>Property</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Property&lt;PortraitWrapper,Float&gt; mPaintProperty = <span class="keyword">new</span> Property&lt;PortraitWrapper,Float&gt;(Float.class,<span class="string">"paintAlpha"</span>)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Float <span class="title">get</span><span class="params">(PortraitWrapper object)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1f</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(PortraitWrapper object, Float value)</span> </span>&#123;</span><br><span class="line">            object.mBorderPaint.setColor(covertAlpha(value,mBorderColor));</span><br><span class="line">            object.mFirstHaloPaint.setColor(covertAlpha(value,mFirstHaloColor));</span><br><span class="line">            object.mSecondHaloPaint.setColor(covertAlpha(value,mSecondHaloColor));</span><br><span class="line">            ViewCompat.postInvalidateOnAnimation(object);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">covertAlpha</span><span class="params">(<span class="keyword">float</span> ratio,<span class="keyword">int</span> color)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> alpha = (<span class="keyword">int</span>) (Color.alpha(color)*ratio);</span><br><span class="line">        <span class="keyword">return</span>  alpha&lt;&lt;<span class="number">24</span>|(color&amp;<span class="number">0xFFFFFF</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> increment = mHaloTotalWidth/<span class="number">4</span>;</span><br><span class="line">            ObjectAnimator step1 = ObjectAnimator.ofInt(<span class="keyword">this</span>,mBorderProperty,mCircleChildRadius+mBorderWidth/<span class="number">2</span>,mCircleChildRadius+mBorderWidth/<span class="number">2</span> + increment);</span><br><span class="line">            ObjectAnimator step2 = ObjectAnimator.ofInt(<span class="keyword">this</span>,mFirstHaloProperty,mCircleChildRadius+mBorderWidth/<span class="number">2</span> + increment,mCircleChildRadius+mBorderWidth/<span class="number">2</span> + increment+increment);</span><br><span class="line">            ObjectAnimator step3 = ObjectAnimator.ofInt(<span class="keyword">this</span>,mSecondHaloProperty,mCircleChildRadius+mBorderWidth/<span class="number">2</span> + increment+increment,mCircleChildRadius+mBorderWidth/<span class="number">2</span> + increment+increment+increment);</span><br><span class="line">            ObjectAnimator step4 = ObjectAnimator.ofFloat(<span class="keyword">this</span>,mPaintProperty,<span class="number">1f</span>,<span class="number">0f</span>);</span><br><span class="line">            step1.setDuration(<span class="number">800</span>);</span><br><span class="line">            step2.setDuration(<span class="number">800</span>);</span><br><span class="line">            step3.setDuration(<span class="number">800</span>);</span><br><span class="line">            step4.setDuration(<span class="number">800</span>);</span><br><span class="line">            step1.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class="line">            step2.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class="line">            step3.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class="line">            step4.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class="line">            step1.setInterpolator(<span class="keyword">new</span> DecelerateInterpolator(<span class="number">2</span>));</span><br><span class="line">            step2.setInterpolator(<span class="keyword">new</span> DecelerateInterpolator(<span class="number">2</span>));</span><br><span class="line">            step3.setInterpolator(<span class="keyword">new</span> DecelerateInterpolator(<span class="number">2</span>));</span><br><span class="line">            AnimatorSet set = <span class="keyword">new</span> AnimatorSet();</span><br><span class="line">            set.playTogether(step1,step2,step3,step4);</span><br><span class="line">            mDesireAnimator = set;</span><br></pre></td></tr></table></figure>
<h2 id="å¤–å±‚å¸ƒå±€ï¼ˆPresentationLayoutï¼‰"><a href="#å¤–å±‚å¸ƒå±€ï¼ˆPresentationLayoutï¼‰" class="headerlink" title="å¤–å±‚å¸ƒå±€ï¼ˆPresentationLayoutï¼‰"></a>å¤–å±‚å¸ƒå±€ï¼ˆPresentationLayoutï¼‰</h2><blockquote>
<p>ç»§æ‰¿è‡³<code>RelativeLayout</code></p>
</blockquote>
<h3 id="æ¨¡ç³ŠèƒŒæ™¯åŠé«˜åº¦å˜åŒ–"><a href="#æ¨¡ç³ŠèƒŒæ™¯åŠé«˜åº¦å˜åŒ–" class="headerlink" title="æ¨¡ç³ŠèƒŒæ™¯åŠé«˜åº¦å˜åŒ–"></a>æ¨¡ç³ŠèƒŒæ™¯åŠé«˜åº¦å˜åŒ–</h3><p> ä¸ºäº†æ”¯æŒé«˜åº¦å˜åŒ–çš„åŠ¨ç”» æ·»åŠ æ–¹æ³•</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHeight</span><span class="params">(<span class="keyword">int</span> height)</span> </span>&#123;</span><br><span class="line">       getLayoutParams().height = height;</span><br><span class="line">       <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= <span class="number">18</span> ) &#123;</span><br><span class="line">           <span class="keyword">if</span>(!isInLayout()) requestLayout();</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           requestLayout();</span><br><span class="line">       &#125;</span><br><span class="line">       invalidate();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p> ä¹‹åå°±å¯ä»¥è·å–é«˜åº¦çš„å±æ€§åŠ¨ç”»ï¼š</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ObjectAnimator step1 = ObjectAnimator.ofInt(<span class="keyword">this</span>, <span class="string">"height"</span>, mCollapsedHeight, mExpandHeight);</span><br></pre></td></tr></table></figure>
<p> å¯¹äºèƒŒæ™¯æ¨¡ç³Š æ˜¯é€šè¿‡åœ¨èƒŒæ™¯ä¹‹ä¸Šæ·»åŠ å·²ç»æ¨¡ç³Šä¹‹åçš„å›¾ç‰‡ å¹¶é€šè¿‡ä¿®æ”¹æ¨¡ç³Šå›¾ç‰‡çš„Alphaå€¼æ¥å®ç°åŠ¨ç”»æ•ˆæœ</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æ¨¡ç³ŠèƒŒæ™¯æ“ä½œä»»åŠ¡</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="keyword">private</span> Runnable mDoBlurRunnable = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         Bitmap bitmap = Util.getBitmapFromDrawable(getBackground());</span><br><span class="line">         <span class="keyword">if</span> (mOriginBackground == <span class="keyword">null</span>) mOriginBackground = getBackground();</span><br><span class="line">         <span class="keyword">if</span> (bitmap != <span class="keyword">null</span>) &#123;</span><br><span class="line">             Bitmap blurBitmap = Util.doBlur(getContext(), bitmap, <span class="number">10</span>);</span><br><span class="line">             Drawable newDrawable = <span class="keyword">new</span> BitmapDrawable(getResources(), blurBitmap);</span><br><span class="line">             mBluredBackground = newDrawable;</span><br><span class="line">             Util.setBackground(mBackgroundOverlay, newDrawable);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>
<p> åœ¨åˆå§‹åŒ–ä¹‹åå°±<code>View.post(mDoBlurRunnable)</code> æ¨¡ç³Šå›¾ç‰‡ã€‚<br> æ¨¡ç³Šå›¾ç‰‡ä»£ç ï¼š</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¨¡ç³Šå›¾ç‰‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> context</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> bitmap éœ€è¦æ¨¡ç³Šçš„åŸå›¾ç‰‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> radius</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> æ¨¡ç³Šåçš„å›¾ç‰‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bitmap <span class="title">doBlur</span><span class="params">(Context context,Bitmap bitmap,<span class="keyword">int</span> radius)</span></span>&#123;</span><br><span class="line">    Bitmap result =  Bitmap.createBitmap(bitmap.getWidth(),bitmap.getHeight(), Bitmap.Config.ARGB_8888);</span><br><span class="line">    Canvas canvas = <span class="keyword">new</span> Canvas(result);</span><br><span class="line">    canvas.drawBitmap(bitmap,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">null</span>);</span><br><span class="line">    RenderScript renderScript = RenderScript.create(context);</span><br><span class="line">    Allocation allocation = Allocation.createFromBitmap(renderScript,result);</span><br><span class="line">    ScriptIntrinsicBlur blur = ScriptIntrinsicBlur.create(renderScript,allocation.getElement());</span><br><span class="line">    blur.setInput(allocation);</span><br><span class="line">    blur.setRadius(radius);</span><br><span class="line">    blur.forEach(allocation);</span><br><span class="line">    allocation.copyTo(result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ ‡ç­¾æ°”æ³¡å±•ç¤ºåŠéšè—"><a href="#æ ‡ç­¾æ°”æ³¡å±•ç¤ºåŠéšè—" class="headerlink" title="æ ‡ç­¾æ°”æ³¡å±•ç¤ºåŠéšè—"></a>æ ‡ç­¾æ°”æ³¡å±•ç¤ºåŠéšè—</h3><p>æ ‡ç­¾çš„å±•ç¤ºåŠéšè—ä½¿ç”¨è·¯å¾„åŠ¨ç”»æ¥å®ç° è·¯å¾„ä¸ºäºŒé˜¶Bezieræ›²çº¿ã€‚æ˜¾ç¤ºåŠ¨ç”» å‡ºå‘ç‚¹ä¸ºå¤´åƒä¸­å¿ƒç‚¹  ç»ˆç‚¹ä¸ºæ ‡ç­¾æœ€ç»ˆè¦ç§»åŠ¨åˆ°çš„ä½ç½®ã€‚æ‰€æœ‰çš„æ ‡ç­¾ç§»åŠ¨åˆ°ä¸€ä¸ªåœ†å½¢çš„èŒƒå›´ä¸­ï¼Œæœ€å¤šæ”¯æŒ7ä¸ªæ ‡ç­¾ï¼Œè¿™7ä¸ªæ ‡ç­¾æ‰€å¯¹åº”çš„å¼§åº¦ï¼š</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">double</span>[] RADIUS = <span class="keyword">new</span> <span class="keyword">double</span>[]&#123;<span class="number">0.7</span>d, <span class="number">2.25</span>d, <span class="number">3.14</span>d, <span class="number">5.5</span>d, <span class="number">0.1</span>d, <span class="number">1.4</span>d, <span class="number">4.7</span>d&#125;;</span><br></pre></td></tr></table></figure>
<p>éšè—åˆ™åä¹‹ã€‚<br>æ§åˆ¶ç‚¹ï¼Œæ˜¾ç¤ºçŠ¶å†µä¸‹ã€‚ä¸ºäº†ä¿è¯æ›²çº¿çš„ä¸€è‡´æ€§ åœ¨æ ‡ç­¾æ˜¾ç¤ºçš„åœ† å†…éƒ¨åœ† å¹¶åŠ ä¸Šå¼§åº¦çš„åç§»é‡è®¡ç®—å¯¹åº”çš„æ§åˆ¶ç‚¹ã€‚éšè—çŠ¶å†µä¸‹ï¼Œç”±äºä¸­å¿ƒç‚¹çš„ç§»åŠ¨ä¸èƒ½ä½¿ç”¨å†…éƒ¨åœ†çš„æ–¹å¼ä¿è¯æ›²çº¿çš„ä¸€è‡´æ€§ï¼Œæ‰€ä»¥å•ç‹¬è¿›è¡Œè®¡ç®—ï¼ˆéšè—æ•ˆæœå’ŒQQä¸å¤ªä¸€è‡´ï¼‰<br>æ˜¾ç¤ºæƒ…å†µä¸‹è®¡ç®—æ§åˆ¶ç‚¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">controlX = Math.round(centerX + mInnerRadius * Math.cos(RADIUS[i] + CONTROL_RADIANS_OFFSET));</span><br><span class="line">controlY = Math.round(centerY - mInnerRadius * Math.sin(RADIUS[i] + CONTROL_RADIANS_OFFSET));</span><br></pre></td></tr></table></figure>
<p>éšè—æƒ…å†µä¸‹è®¡ç®—æ§åˆ¶ç‚¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†centerX å’Œ centerY çœ‹åšåæ ‡åŸç‚¹</span></span><br><span class="line"><span class="keyword">float</span> x = targetX - centerX;</span><br><span class="line"><span class="keyword">float</span> y = targetY - centerY;</span><br><span class="line"><span class="keyword">float</span> scaledX = <span class="number">0.3f</span> * x;</span><br><span class="line"><span class="keyword">float</span> scaledY = <span class="number">0.3f</span> * y;</span><br><span class="line"><span class="comment">//è®¡ç®—æ§åˆ¶ç‚¹ ä¿è¯bezieræ›²çº¿çš„å¯¼æ•°ç›¸åŒ</span></span><br><span class="line">controlX = centerX + Math.round(scaledX * Math.cos(CONTROL_RADIANS_OFFSET) + scaledY * Math.sin(CONTROL_RADIANS_OFFSET));</span><br><span class="line">controlY = centerY + Math.round(scaledY * Math.cos(CONTROL_RADIANS_OFFSET) - scaledX * Math.sin(CONTROL_RADIANS_OFFSET));</span><br></pre></td></tr></table></figure>
<p>å¯¹äºAndroidL ä»¥ä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨ pathåŠ¨ç”»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pathAnimator = ObjectAnimator.ofObject(tagView, mTagViewProperty, <span class="keyword">null</span>, path);</span><br></pre></td></tr></table></figure>
<p>å¯¹äºAnddroidL ä»¥ä¸‹ä½¿ç”¨ PathMeasure å¸®åŠ©è¿›è¡ŒpathåŠ¨ç”»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pathAnimator = ObjectAnimator.ofObject(tagView, mTagViewProperty, <span class="keyword">new</span> PathEvaluator(path), <span class="keyword">new</span> PointF());</span><br></pre></td></tr></table></figure>
<p>TagViewProperty ç”¨äºè°ƒç”¨TagView çš„ setPoint ä¿®æ”¹TagViewçš„ä½ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setPoint</span><span class="params">(PointF pointF)</span></span>&#123;</span><br><span class="line">        <span class="keyword">float</span> left = pointF.x - getWidth()/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">float</span> top = pointF.y - getHeight()/<span class="number">2</span>;</span><br><span class="line">        setX(left);</span><br><span class="line">        setY(top);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºpath è½¬æ¢ä¸ºpointF ä½¿ç”¨ PathEvaluator æ¥å®ç°(å†…éƒ¨é€šè¿‡PathMeasureè®¡ç®—Path)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PathEvaluator</span> <span class="keyword">implements</span> <span class="title">TypeEvaluator</span>&lt;<span class="title">PointF</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> PathMeasure mPathMeasure;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mPathLength;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> points[] = <span class="keyword">new</span> <span class="keyword">float</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">private</span> PointF mPointF = <span class="keyword">new</span> PointF();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PathEvaluator</span><span class="params">(Path path)</span></span>&#123;</span><br><span class="line">        mPathMeasure = <span class="keyword">new</span> PathMeasure(path,<span class="keyword">false</span>);</span><br><span class="line">        mPathLength = mPathMeasure.getLength();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> PointF <span class="title">evaluate</span><span class="params">(<span class="keyword">float</span> fraction, PointF startValue, PointF endValue)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(mPathMeasure.getPosTan(mPathLength*fraction,points,<span class="keyword">null</span>)) &#123;</span><br><span class="line">            mPointF.set(points[<span class="number">0</span>], points[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mPointF;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ ‡ç­¾æ°”æ³¡çš„ç§»åŠ¨"><a href="#æ ‡ç­¾æ°”æ³¡çš„ç§»åŠ¨" class="headerlink" title="æ ‡ç­¾æ°”æ³¡çš„ç§»åŠ¨"></a>æ ‡ç­¾æ°”æ³¡çš„ç§»åŠ¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åštag å‘¨å›´å°å¹…åº¦ç§»åŠ¨åŠ¨ç”»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> Runnable mTagWanderRunnable = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (mState == STATE_EXPANDED) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mTagViews.size(); i++) &#123;</span><br><span class="line">                TagView tagView = mTagViews.get(i);</span><br><span class="line">                <span class="keyword">if</span> (tagView.shouldWander) &#123;</span><br><span class="line">                    <span class="keyword">float</span> targetX = mTargets[<span class="number">2</span>*i] - tagView.getWidth()/<span class="number">2</span>;</span><br><span class="line">                    <span class="keyword">float</span> targetY = mTargets[<span class="number">2</span>*i+<span class="number">1</span>] - tagView.getHeight()/<span class="number">2</span>;</span><br><span class="line">                    <span class="keyword">float</span> x = Math.round(targetX + Math.random()*mThickness - mThickness/<span class="number">2</span>);</span><br><span class="line">                    <span class="keyword">float</span> y = Math.round(targetY + Math.random()*mThickness - mThickness/<span class="number">2</span>);</span><br><span class="line">                    tagView.animate().translationX(x).translationY(y).setDuration(<span class="number">2000</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ViewCompat.postOnAnimationDelayed(PresentationLayout.<span class="keyword">this</span>, mTagWanderRunnable, <span class="number">2000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="æ ‡ç­¾æ°”æ³¡çš„æ‹–æ‹½ï¼ˆä½¿ç”¨ViewDragHelperï¼‰"><a href="#æ ‡ç­¾æ°”æ³¡çš„æ‹–æ‹½ï¼ˆä½¿ç”¨ViewDragHelperï¼‰" class="headerlink" title="æ ‡ç­¾æ°”æ³¡çš„æ‹–æ‹½ï¼ˆä½¿ç”¨ViewDragHelperï¼‰"></a>æ ‡ç­¾æ°”æ³¡çš„æ‹–æ‹½ï¼ˆä½¿ç”¨ViewDragHelperï¼‰</h3><p>ç”±äºç§»åŠ¨çš„TagViewæ˜¯åŒè¿‡æ”¹å˜TranslationX åŠ TranslationYæ¥ç§»åŠ¨ï¼Œè€ŒViewDragHelper æ˜¯é€šè¿‡ left top right bottom åˆ¤æ–­æ˜¯å¦ç‚¹å‡»åˆ°ç›¸åº”çš„Viewï¼Œæ‰€ä»¥è¿™é‡Œä¸å»æ•è·View</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">tryCaptureView</span><span class="params">(View child, <span class="keyword">int</span> pointerId)</span> </span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">         &#125;</span><br></pre></td></tr></table></figure>
<p>ä¹‹åè‡ªè¡Œå¤„ç†è§¦æ‘¸äº‹ä»¶å¹¶ä¸»åŠ¨æ•è·Viewï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouchEvent</span><span class="params">(MotionEvent event)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">super</span>.onTouchEvent(event);</span><br><span class="line">       mDragHelper.processTouchEvent(event);</span><br><span class="line"></span><br><span class="line">           <span class="keyword">switch</span> (MotionEventCompat.getActionMasked(event)) &#123;</span><br><span class="line">               <span class="keyword">case</span> MotionEvent.ACTION_DOWN:</span><br><span class="line">                   downX = event.getX();</span><br><span class="line">                   downY = event.getY();</span><br><span class="line">                   <span class="keyword">if</span>(mState == STATE_EXPANDED)&#123;</span><br><span class="line">                       TagView tagView = findTopTagViewUnder(downX,downY);</span><br><span class="line">                       <span class="keyword">if</span>(tagView != <span class="keyword">null</span>)&#123;</span><br><span class="line">                           mDragHelper.captureChildView(tagView,event.getPointerId(<span class="number">0</span>));</span><br><span class="line">                       &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">       ...</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TagView <span class="title">findTopTagViewUnder</span><span class="params">(<span class="keyword">float</span> x,<span class="keyword">float</span> y)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;getChildCount();i++)&#123;</span><br><span class="line">            View child = getChildAt(i);</span><br><span class="line">            <span class="keyword">if</span>(child <span class="keyword">instanceof</span> TagView)&#123;</span><br><span class="line">                <span class="keyword">if</span>(x&gt;=child.getX()&amp;&amp;x&lt;=child.getX()+child.getWidth()&amp;&amp;y&gt;=child.getY()&amp;&amp;y&lt;=child.getY()+child.getHeight())&#123;</span><br><span class="line">                    <span class="keyword">return</span> (TagView) child;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="é¡¹ç›®åœ°å€"><a href="#é¡¹ç›®åœ°å€" class="headerlink" title="é¡¹ç›®åœ°å€"></a>é¡¹ç›®åœ°å€</h1><p><a href="https://github.com/AlphaBoom/QQPresentation" target="_blank" rel="noopener">QQPresentation</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Android-è‡ªå®šä¹‰æ§ä»¶/" rel="tag">#Android è‡ªå®šä¹‰æ§ä»¶</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/10/23/201610231/" rel="prev" title="å…³äºAndroid24.2.0æ”¯æŒåº“SnapHelperçš„ä½¿ç”¨">
                å…³äºAndroid24.2.0æ”¯æŒåº“SnapHelperçš„ä½¿ç”¨ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="gitalk-container"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/uploads/avatar.jpeg" alt="AlphaBoom">
          <p class="site-author-name" itemprop="name">AlphaBoom</p>
          <p class="site-description motion-element" itemprop="description">AlphaBoomçš„åšå®¢æ¬¢è¿è…ä¸´</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/AlphaBoom" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="tencent://message/?uin=2439100920&Site=alphaboom.github.io&Menu=yes" target="_blank" title="QQ">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  QQ
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#åˆ†ææ•ˆæœ"><span class="nav-number">1.</span> <span class="nav-text">åˆ†ææ•ˆæœ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç°åœ¨å®ç°çš„æ•ˆæœ"><span class="nav-number">2.</span> <span class="nav-text">ç°åœ¨å®ç°çš„æ•ˆæœ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å…·ä½“å®ç°"><span class="nav-number">3.</span> <span class="nav-text">å…·ä½“å®ç°</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ†æå®ç°éœ€è¦çš„æ­¥éª¤"><span class="nav-number">3.1.</span> <span class="nav-text">åˆ†æå®ç°éœ€è¦çš„æ­¥éª¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ°”æ³¡æ ‡ç­¾ï¼ˆTagViewï¼‰"><span class="nav-number">3.2.</span> <span class="nav-text">æ°”æ³¡æ ‡ç­¾ï¼ˆTagViewï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åœ†å½¢å¤´åƒï¼ˆPortraitWrapperï¼‰"><span class="nav-number">3.3.</span> <span class="nav-text">åœ†å½¢å¤´åƒï¼ˆPortraitWrapperï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¤–å±‚å¸ƒå±€ï¼ˆPresentationLayoutï¼‰"><span class="nav-number">3.4.</span> <span class="nav-text">å¤–å±‚å¸ƒå±€ï¼ˆPresentationLayoutï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¨¡ç³ŠèƒŒæ™¯åŠé«˜åº¦å˜åŒ–"><span class="nav-number">3.4.1.</span> <span class="nav-text">æ¨¡ç³ŠèƒŒæ™¯åŠé«˜åº¦å˜åŒ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ ‡ç­¾æ°”æ³¡å±•ç¤ºåŠéšè—"><span class="nav-number">3.4.2.</span> <span class="nav-text">æ ‡ç­¾æ°”æ³¡å±•ç¤ºåŠéšè—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ ‡ç­¾æ°”æ³¡çš„ç§»åŠ¨"><span class="nav-number">3.4.3.</span> <span class="nav-text">æ ‡ç­¾æ°”æ³¡çš„ç§»åŠ¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ ‡ç­¾æ°”æ³¡çš„æ‹–æ‹½ï¼ˆä½¿ç”¨ViewDragHelperï¼‰"><span class="nav-number">3.4.4.</span> <span class="nav-text">æ ‡ç­¾æ°”æ³¡çš„æ‹–æ‹½ï¼ˆä½¿ç”¨ViewDragHelperï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é¡¹ç›®åœ°å€"><span class="nav-number">4.</span> <span class="nav-text">é¡¹ç›®åœ°å€</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">AlphaBoom</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  




  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
   <script type="text/javascript">
        var gitalk = new Gitalk({
          clientID: 'a6a9a35cef5cdbb6edde',
          clientSecret: '3f2c90685ef385c63cb4bc8de7d8745a9d359091',
          repo: 'alphaboom.github.io',
          owner: 'alphaboom',
          admin: ['alphaboom'],
          id: md5(location.pathname),
          distractionFreeMode: 'true'
        })
        gitalk.render('gitalk-container')           
       </script>


  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

  

  


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/shizuku.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
